<div class="slide-deck">
  <title-slide
    @current={{current}}
    @deckMeta={{deckMeta}}
  />

  <content-slide @title="Get set up" @current={{current}} @deckMeta={{deckMeta}}>
    <p>We need the ember-cli canary channel for the next step. This is how we get it:</p>
    <code-snippet class="language-x">
      $ yarn global add ember-cli/ember-cli
    </code-snippet>
    <p>Then to make sure there isn't some global tomfoolery going on:</p>
    <code-snippet class="language-x">
      $ ember version
      ember-cli: 2.13.0-beta.3
    </code-snippet>
  </content-slide>

  <content-slide @title="Create the project" @current={{current}} @deckMeta={{deckMeta}}>
    <code-snippet class="language-x">
      $ ember new slide-deck -b @glimmer/blueprint
      $ cd slide-deck
    </code-snippet>
  </content-slide>

  <content-slide @title="Start it up" @current={{current}} @deckMeta={{deckMeta}}>
    <code-snippet class="language-x">
      $ ember serve
    </code-snippet>
    <p>When you open up <a href="http://localhost:4200/">http://localhost:4200/</a> you should see:</p>
    <blockquote>
      <h1>Welcome to Glimmer!</h1>
    </blockquote>
  </content-slide>

  <content-slide @title="About the app's entry point" @current={{current}} @deckMeta={{deckMeta}}>
    <p>Our app is actually just a component tree that starts with a root component. A root component is just like any other component, but it is rendered like this:</p>
    <h3>{{inline-code "src/index.ts"}}</h3>
    <code-snippet class="language-typescript">
      const app = new App();
      const containerElement = document.getElementById('app');

      app.renderComponent('slide-deck', containerElement, null);
    </code-snippet>
    <p>At this time you cannot pass args into the root component. Initial state must come from inside the root component. We are working on changing that.</p>
  </content-slide>

  <content-slide @title="About the directory structure" @current={{current}} @deckMeta={{deckMeta}}>
    <p>This is the new <a href="https://github.com/emberjs/rfcs/blob/master/text/0143-module-unification.md">module unification</a> directory structure as it looks with our basic Glimmer app:</p>
    <code-snippet class="language-x">
      src
      ├── index.ts
      ├── main.ts
      └── ui
          ├── components
          │   ├── slide-deck
          │   │   ├── component.ts
          │   │   └── template.hbs
          ├── index.html
          └── styles
              └── app.scss
    </code-snippet>
  </content-slide>

  <content-slide @title="Give our app some data" @current={{current}} @deckMeta={{deckMeta}}>
    <h3>{{inline-code "src/ui/components/slide-deck/component.ts"}}</h3>
    <code-snippet class="language-typescript">
      export default class SlideDeck extends Component {
        get deckMeta(): object {
          return {
            title: 'Making a slide deck with Glimmer',
            author: 'Robbie Pitts',
            twitter: '@_robbiepitts',
            github: '@robbiepitts'
          };
        }
      }
    </code-snippet>
  </content-slide>

  <content-slide @title="Render that data" @current={{current}} @deckMeta={{deckMeta}}>
    <p>First some notes about Glimmer templates:</p>
    <ul>
      <li>They are outer-html, opposed to Ember's inner-html templates</li>
      <li>They must have a single top-level element</li>
      <li>You should be able to do {{inline-code "<component-name>"}} as the top-level element but can't; it's a bug</li>
    </ul>
  </content-slide>

  <content-slide @title="Render that data" @current={{current}} @deckMeta={{deckMeta}}>
    <h3>{{inline-code "src/ui/components/slide-deck/template.hbs"}}</h3>
    <code-snippet class="language-handlebars">{{escape-markup "
      <div class=\"slide-deck\">
        <title-slide @deckMeta={{deckMeta}} />
      </div>
    "}}</code-snippet>
  </content-slide>

  <content-slide @title="Render that data" @current={{current}} @deckMeta={{deckMeta}}>
    <p>Let's make the {{inline-code "<title-slide />"}} component:</p>
    <code-snippet class="language-x">
      $ ember g glimmer-component title-slide
    </code-snippet>
  </content-slide>

  <content-slide @title="Render that data" @current={{current}} @deckMeta={{deckMeta}}>
    <p>What we're trying to implement:</p>
    <code-snippet class="language-handlebars">{{escape-markup "
      <title-slide @deckMeta={{deckMeta}} />
    "}}</code-snippet>
    <h3>{{inline-code "src/ui/components/title-slide/template.hbs"}}</h3>
    <code-snippet class="language-handlebars">{{escape-markup "
      <div class=\"slide title-slide\">
        <h1>{{@deckMeta.title}}</h1>
        <h2>{{@deckMeta.author}}</h2>
        <h2>twitter: {{@deckMeta.twitter}}</h2>
        <h2>github: {{@deckMeta.github}}</h2>
      </div>
    "}}</code-snippet>
  </content-slide>

  <content-slide @title="Render that data" @current={{current}} @deckMeta={{deckMeta}}>
    <p>Refresh your browser and see the fruits of your labor.</p>
    <p>Next up: our first content slide.</p>
  </content-slide>

  <content-slide @title="Add a slide" @current={{current}} @deckMeta={{deckMeta}}>
    <p>Let's add our yet-to-be-created component to our main, slide deck template.</p>
    <h3>{{inline-code "src/ui/components/slide-deck/template.hbs"}}</h3>
    <code-snippet class="language-handlebars">{{escape-markup "
      <div class=\"slide-deck\">
        <title-slide @deckMeta={{deckMeta}} />
        <content-slide @deckMeta={{deckMeta}} @title=\"First slide\">
          <p>Cool slide, bro.</p>
        </content-slide>
      </div>
    "}}</code-snippet>
  </content-slide>

  <content-slide @title="Generate our content-slide component" @current={{current}} @deckMeta={{deckMeta}}>
    <p>And then we do this again for our next component:</p>
    <code-snippet class="language-x">
      $ ember g glimmer-component content-slide
    </code-snippet>
  </content-slide>

  <content-slide @title="Fill in the content-slide template" @current={{current}} @deckMeta={{deckMeta}}>
    <p>What we're trying to implement:</p>
    <code-snippet class="language-handlebars">{{escape-markup "
      <content-slide @deckMeta={{deckMeta}} @title=\"First slide\">
        <p>Cool slide, bro.</p>
      </content-slide>
    "}}</code-snippet>
    <h3>{{inline-code "src/ui/components/content-slide/template.hbs"}}</h3>
    <code-snippet class="language-handlebars">{{escape-markup "
      <div class=\"slide content-slide\">
        <header><p>{{headerText}}</p></header>
        <article>
          <h1>{{@title}}</h1>
          {{yield}}
        </article>
      </div>
    "}}</code-snippet>
  </content-slide>

  <content-slide @title="Make our headerText property" @current={{current}} @deckMeta={{deckMeta}}>
    <h3>{{inline-code "src/ui/components/content-slide/component.ts"}}</h3>
    <code-snippet class="language-typescript">
      import Component, { tracked } from '@glimmer/component';

      export default class ContentSlide extends Component {
        args: {
          title: string,
          deckMeta: {
            title: string,
            author: string,
            twitter: string,
            github: string
          }
        }

        get headerText() {
          let { title, author, twitter, github } = this.args.deckMeta;
          return `${title} / ${author} / twitter: ${twitter} / github: ${github}`;
        }
      }
    </code-snippet>
  </content-slide>

  <content-slide @title="This object looks familiar" @current={{current}} @deckMeta={{deckMeta}}>
    <h3>{{inline-code "src/ui/components/slide-deck/component.ts"}}</h3>
    <code-snippet class="language-typescript">
      import Component, { tracked } from '@glimmer/component';

      export default class SlideDeck extends Component {
        get deckMeta(): object {
          return {
            title: 'Making a slide deck with Glimmer',
            author: 'Robbie Pitts',
            twitter: '@_robbiepitts',
            github: '@robbiepitts'
          };
        }
      }
    </code-snippet>
  </content-slide>

  <content-slide @title="Give our object shape a name" @current={{current}} @deckMeta={{deckMeta}}>
    <h3>{{inline-code "src/utils/deck-meta.ts"}}</h3>
    <code-snippet class="language-typescript">
      interface DeckMeta {
        title: string,
        author: string,
        twitter: string,
        github: string
      };

      export default DeckMeta;
    </code-snippet>
  </content-slide>

  <content-slide @title="Give our object shape a name" @current={{current}} @deckMeta={{deckMeta}}>
    <h3>{{inline-code "src/ui/components/slide-deck/component.ts"}}</h3>
    <code-snippet class="language-typescript">
      import Component, { tracked } from '@glimmer/component';
      import DeckMeta from '../../utils/deck-meta';

      export default class SlideDeck extends Component {
        get deckMeta(): DeckMeta {
          return {
            title: 'Making a slide deck with Glimmer',
            author: 'Robbie Pitts',
            twitter: '@_robbiepitts',
            github: '@robbiepitts'
          };
        }
      }
    </code-snippet>
  </content-slide>

  <content-slide @title="Give our object shape a name" @current={{current}} @deckMeta={{deckMeta}}>
    <h3>{{inline-code "src/ui/components/content-slide/component.ts"}}</h3>
    <code-snippet class="language-typescript">
      import Component, { tracked } from '@glimmer/component';
      import DeckMeta from '../../utils/deck-meta';

      export default class ContentSlide extends Component {
        args: {
          title: string,
          deckMeta: DeckMeta
        }

        get headerText() {
          let { title, author, twitter, github } = this.args.deckMeta;
          return `${title} / ${author} / twitter: ${twitter} / github: ${github}`;
        }
      }
    </code-snippet>
  </content-slide>
</div>
